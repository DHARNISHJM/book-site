<%- layout("layouts/boilerplate") %>
    <div class="container">

        <div class="d-flex align-items-center" style="min-height: 100vh;">
            <div class="card w-100" id="bookCard">
                <div class="row p-3 ">
                    <div class="col-3 border-end d-flex flex-column">
                        <h3 class="card-title">
                            <%=result.title%>
                        </h3>
                        <p>
                            Author : <span>
                                <% if (result.authors && Array.isArray(result.authors)) { %>
                                    <% result.authors.forEach(function(name) { %>
                                        <%= name %>
                                            <% if (result.authors.indexOf(name) !==result.authors.length - 1) { %>,
                                                <% } %>
                                                    <% }); %>
                                                        <% } else if (result.authors) { %>
                                                            <%= result.authors %>
                                                                <% } else { %>
                                                                    Unknown
                                                                    <% } %>
                            </span>
                        </p>
                        <% if (result.imageLinks && result.imageLinks.thumbnail) { %>
                            <img src="<%= result.imageLinks.thumbnail %>" class="rounded-5 mb-3 img-fluid" alt="">
                            <% } %>
                                <div id="buttonsDiv" class="d-flex gap-2 mt-auto">
                                    <a href="<%=result.previewLink%>"
                                        class="btn btn-primary flex-grow-1 rounded-pill">Preview
                                        Book</a>
                                    <a href="<%=result.infoLink%>"
                                        class="btn btn-secondary flex-grow-1 rounded-pill">Book
                                        Info</a>
                                </div>
                    </div>
                    <div class="col-9">
                        <p class="headText">Overview</p>
                        <p>
                            <%= result.description %>
                        </p>
                        <p class="card-text">
                            Number of Pages: <%= result.pageCount %>
                        </p>
                        <p class="headText">Publisher</p>
                        <p>
                            <%= result.publisher %>
                        </p>
                        <p class="headText">Published Date</p>
                        <p>
                            <%= result.publishedDate %>
                        </p>
                        <p>
                            <% for (let name of result.categories) {%>
                                <span class="badge rounded-pill text-bg-secondary">
                                    <%=name%>
                                </span>
                                <% } %>
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>